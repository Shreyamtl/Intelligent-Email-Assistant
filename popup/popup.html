<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Email Assistant</title>
  <style>
    body {
      width: 350px;
      padding: 15px;
      font-family: Arial, sans-serif;
    }
    h3 {
      margin-top: 0;
      color: #2c3e50;
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-bottom: 10px;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      resize: vertical;
    }
    select, button {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 4px;
      border: 1px solid #ddd;
      font-size: 14px;
    }
    #generate {
      background-color: #3498db;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
    #generate:hover {
      background-color: #2980b9;
    }
    #copyBtn {
      background-color: #2ecc71;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
    #copyBtn:hover {
      background-color: #27ae60;
    }
    #copyBtn:disabled {
      background-color: #95a5a6;
      cursor: not-allowed;
    }
    .result-container {
      margin-top: 15px;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background-color: #f9f9f9;
      white-space: pre-wrap;
      min-height: 50px;
    }
    .loading {
      display: none;
      text-align: center;
      color: #7f8c8d;
      margin: 10px 0;
    }
    .button-group {
      display: flex;
      gap: 10px;
    }
    .button-group button {
      flex: 1;
    }
    .mode-selector {
      display: flex;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
    }
    .mode-selector button {
      flex: 1;
      padding: 8px;
      background: #f8f9fa;
      border: none;
      cursor: pointer;
    }
    .mode-selector button.active {
      background: #3498db;
      color: white;
    }
    .instructions {
      font-size: 12px;
      color: #7f8c8d;
      margin-bottom: 10px;
    }
    .summary-options {
      margin-bottom: 10px;
      display: none;
    }
    .summary-options label {
      display: block;
      margin-bottom: 5px;
      font-size: 13px;
    }
    .summary-options select {
      margin-bottom: 0;
    }
  </style>
</head>
<body>
  <h3>Intelligent Email Assistant</h3>
  
  <div class="mode-selector">
    <button id="replyModeBtn" class="active">Reply</button>
    <button id="draftModeBtn">New Email</button>
    <button id="summaryModeBtn">Summarize</button>
  </div>
  
  <div id="replyMode">
    <textarea id="context" placeholder="Paste the email you're replying to here"></textarea>
    <div class="instructions">Be specific about the purpose and content of your email for better results.</div>
  </div>
  
  <div id="draftMode" style="display: none;">
    <textarea id="draftContext" placeholder="Describe what you want to write about or enter the subject"></textarea>
    <div class="instructions">Be specific about the purpose and content of your email for better results.</div>
  </div>
  
  <div id="summaryMode" style="display: none;">
    <textarea id="summaryContext" placeholder="Paste the email you want to summarize here"></textarea>
    <div class="instructions">Be specific about the purpose and content of your email for better results.</div>
    <div class="summary-options" id="summaryOptions">
      <label for="summaryType">Summary Style:</label>
      <select id="summaryType">
        <option value="concise">Concise Bullet Points</option>
        <option value="key_details">Key Details Only</option>
        <option value="action_items">Action Items</option>
      </select>
    </div>
  </div>
  
  <select id="tone" class="tone-selector">
    <option value="professional">Professional</option>
    <option value="friendly">Friendly</option>
    <option value="concise">Concise</option>
    <option value="enthusiastic">Enthusiastic</option>
  </select>
  
  <div class="button-group">
    <button id="generate">Generate</button>
  </div>
  
  <div class="loading" id="loading">
    <svg width="20" height="20" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#3498db">
      <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="2">
          <circle stroke-opacity=".5" cx="18" cy="18" r="18"/>
          <path d="M36 18c0-9.94-8.06-18-18-18">
            <animateTransform
              attributeName="transform"
              type="rotate"
              from="0 18 18"
              to="360 18 18"
              dur="1s"
              repeatCount="indefinite"/>
          </path>
        </g>
      </g>
    </svg>
    Generating response...
  </div>
  
  <div id="result" class="result-container"></div>
  <button id="copyBtn" disabled>Copy to Clipboard</button>
  
  <script src="popup.js"></script>
</body>
</html>